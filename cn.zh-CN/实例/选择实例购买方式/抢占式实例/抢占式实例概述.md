# 抢占式实例概述

抢占式实例是一种按需实例，旨在为您降低部分场景下使用ECS实例的成本。

## 抢占式实例介绍

抢占式实例的市场价格会随供需变化而浮动。您需要在创建抢占式实例时指定出价模式，当指定实例规格的当前市场价格低于出价且库存充足时，就能成功创建抢占式实例，并按照当前市场价格计费。抢占式实例创建成功后，操作与按量付费实例相同，您也可以组合使用抢占式实例和其他云产品，例如云盘、EIP地址等。

抢占式实例创建成功后拥有一小时的保护周期，即在创建成功后第一个小时内，即使市场价格浮动超过了出价，抢占式实例也不会被释放，您可以在该抢占式实例上正常运行业务。超过保护周期后，每5分钟检测一次实例规格的当前市场价格和库存，如果某一时刻的市场价格高于出价或实例规格库存不足，抢占式实例会被释放。更多有关抢占式实例的问题，请参见[实例FAQ](/cn.zh-CN/实例/实例FAQ.md)。

**说明：** 实例释放后数据无法恢复，建议您提前创建快照备份数据。具体操作，请参见[创建普通快照](/cn.zh-CN/快照/使用快照/创建普通快照.md)。

抢占式实例的生命周期如下图所示：

![](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/6604359951/p59675.png)

创建抢占式实例后，您可以随时主动释放实例，具体操作请参见[释放实例](/cn.zh-CN/实例/管理实例/释放实例.md)。因为市场价格变化或实例规格库存不足而自动释放抢占式实例时，抢占式实例会进入**待回收**状态，约5分钟后再自动释放。您可以通过实例元数据或者DescribeInstances接口返回的`OperationLocks`信息查看实例是否进入**待回收**状态。

虽然抢占式实例支持查看是否进入了**待回收**状态，您可以在等待回收的时间里保存少量数据。但仍然建议您优化应用设计，保证在抢占式实例被回收的情况下应用也可以正常工作。您可以尝试主动释放抢占式实例，检测在抢占式实例被回收的情况下应用工作是否正常。

一般情况下，系统会从出价最低的抢占式实例开始释放。如果多个抢占式实例的出价相同，则随机确定实例的释放顺序。

## 使用限制

-   抢占式实例不支持转换为包年包月实例。
-   抢占式实例不支持变更实例规格。
-   抢占式实例配额请参见[使用限制](/cn.zh-CN/产品简介/使用限制.md)。

## 应用场景

抢占式实例适用于无状态的应用场景，例如可弹性伸缩的Web站点服务、图像渲染、大数据分析和大规模并行计算等。应用程序的分布度、可扩展性和容错能力越高，越适合使用抢占式实例节省成本和提升吞吐量。

您可以在抢占式实例上部署以下业务：

-   实时分析业务
-   大数据业务
-   地理空间勘测分析业务
-   图像和媒体编码业务
-   科学计算业务
-   可弹性伸缩的业务站点、网络爬虫业务
-   测试业务

有状态应用不宜使用抢占式实例，例如数据库。因为竞价失败等原因导致抢占式实例被释放时，应用状态难以保存。

## 价格和计费

-   价格

    抢占式实例的价格是指实例规格（包括vCPU和内存）的价格，不包括系统盘、数据盘、网络带宽等资源的价格。

    -   系统盘、数据盘的计费遵循按量付费规则，详细信息请参见[按量付费](/cn.zh-CN/产品定价/按量付费.md)。
    -   网络带宽的计费遵循按量付费实例的带宽计费规则，详细信息请参见[公网带宽计费方式](/cn.zh-CN/产品定价/公网带宽计费方式.md)。
-   市场价格

    抢占式实例的市场价格会随市场对某一种实例规格的供需变化而浮动。创建抢占式实例时，如果指定实例规格的当前市场价格低于出价且库存充足，就能成功创建抢占式实例。

    在一小时的保护周期内，实例规格会按成交时的市场价格计费。超过保护周期，即一小时后，按照实时的市场价格计费。

    您可以充分利用抢占式实例的价格浮动特性，在适当的时间购买抢占式实例，降低计算成本，并在整体成本下降的前提下，提升业务在该时间周期内的吞吐量。

-   计费方式

    抢占式实例按秒计费。成功创建实例时的市场价格为小时价，将小时价除以3600即可得到每秒的价格。

    从成功创建到释放抢占式实例的费用精确到小数点后两位。累计费用不足0.01元的部分不收取。

-   计费时长

    抢占式实例按实际使用时长计费。实际使用时长是指从成功创建到释放抢占式实例的时长，抢占式实例释放后才停止计费。如果您只是在ECS管理控制台上或者调用StopInstance接口停止实例，实例会继续计费。如果您暂时不需要使用抢占式实例，建议创建快照备份数据和环境，然后释放实例，在需要使用抢占式实例时再重新购买。


## 联系我们

如果您有任何抢占式实例相关的问题和需求，欢迎使用钉钉扫描以下二维码加入抢占式实例答疑群。（[钉钉通讯客户端下载地址](https://tms.dingtalk.com/markets/dingtalk/download?spm=a2c4g.11186623.2.9.2a1d4e2bCgb1WP)）

![spot](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/8957590061/p170184.png)

