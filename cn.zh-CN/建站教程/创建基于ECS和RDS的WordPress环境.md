# 创建基于ECS和RDS的WordPress环境 {#concept_51137_zh .concept}

您可以在资源编排服务ROS \(Resource Orchestration Service\)中通过模版创建一组阿里云资源。ROS 控制台已经提供一些常用的模版样例。本文将使用一个 ROS 模版创建基于 ECS 和 RDS 的 WordPress 环境。

ROS 模版是一个 JSON 格式文本文件，您可以在这个文本中定义自己的阿里云资源。

## 前提条件 {#section_eqb_n4l_2fb .section}

阿里云规定创建资源时，账号需要有超过 100 元的现金、可用信用额度或者可用于开通产品的代金券。

## 操作步骤 { .section}

1.  登录 [ROS管理控制台](https://ros.console.aliyun.com/)。

    **说明：** 如果您是首次使用ROS，必须先开通ROS服务。ROS服务免费，开通服务不会产生任何费用。

2.  在左侧导航栏中，选择 **关键帮助** \> **ECS实例相关信息**，获取您需要的ECS实例规格、可用区ID（ZoneId）和镜像ID（ImageId）。
3.  在控制台左侧导航栏中，单击 **模版样例**，页面显示 ROS 提供的常用模版。
4.  从模版示例中找到 **wordpress\_instance**，本篇教程将通过这个模版创建基于 ECS 和 RDS 的 WordPress 环境。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9767/154391316132242_zh-CN.png)

5.  单击 **预览** 按钮查看模板的JSON文件。JSON文件各个顶级字段的解释如下表所示。

    |顶级字段|解释|
    |:---|:-|
    |`"ROSTemplateFormatVersion" : "2015-09-01"`|定义模板版本。|
    |`"Parameters" : { }`|定义模板的一些参数。本示例中，模板定义的参数包括：镜像ID、实例规格等，并指定了默认值。|
    |`"Resources" : { }`|定义这个模板将要创建的阿里云资源。本示例中，申明将要创建一个ECS实例和一个安全组，这里申明的资源属性可以引用`Parameters`中定义的参数。|
    |`"Outputs": { }`|定义资源创建完成后，栈需要输出的资源信息。本示例中，资源创建完成后将输出ECS实例ID、公网IP地址和安全组ID。|

    **说明：** 关于ROS资源栈模板的更多信息，请参见资源编排的 [模板结构说明](../../../../cn.zh-CN/用户指南/模板语法/模板结构说明.md#)。

6.  单击 **创建栈**。
7.  在 **所在region** 的下拉框中选择具体地域，并单击 **下一步**。本例选择 **华北2**。
8.  设置栈的相关参数。

    -   **栈名**：设置一个栈名，不可重复，而且创建之后不能修改。
    -   **创建超时**：设置一个时间。如果在设置的时间段内资源未创建成功，则判断超时。您可以选择是否 **失败回滚**。如果选择失败回滚，那么创建过程中发生任何失败（包括创建超时），ROS都会删除已经创建成功的资源。
    -   **ImageId**：填写创建ECS实例时使用的镜像ID。详见第2步。
    -   **InstanceType**：填写您需要的ECS实例规格。详见第2步。
    -   **InstancePassword** 和 **Please Confirm InstancePassword**：设置并确认实例的登录密码。根据模板定义，密码只能包括大写或小写英文字母和数字。
    -   **VpcCidrBlock**：填写专有网络VPC的私网网段。更多信息参见[网络规划](../../../../cn.zh-CN/最佳实践/网络规划.md#)。
    -   **VSwitchCidrBlock**：交换机的网段。交换机所指定的网段必须属于其VPC的网段，并且不能与已有的交换机网段重叠。更多信息参见[网络规划](../../../../cn.zh-CN/最佳实践/网络规划.md#)。
    -   **DBInstanceClass**：云数据库RDS的实例类型。
    -   **DBInstanceStorage**：云数据库RDS的容量规格。
    -   **ZoneId**：填写您需要创建资源的可用区ID。详见第2步。
    -   **Engine**：选择您需要的数据库引擎。
    -   **EngineVersion**：选择您的数据库引擎版本。
    -   **DBName**：填写MySQL数据库名。
    -   **DBUser**：填写MySQL数据库的用户名。
    -   **DBPassword** ：设置访问MySQL数据库的密码。根据模板定义，密码必须包括大写英文字母、小写英文字母、数字和下划线四种。
    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9767/154391316132251_zh-CN.png)

9.  单击 **创建**。
10. 单击左侧导航栏的 **资源栈管理**，从下拉菜单中选取您创建的栈所在的地域，即可找到您刚创建的栈。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9767/154391316132490_zh-CN.png)

11. 单击栈名，再单击左侧导航栏中的以下几项可以了解已创建栈的相关信息：
    -   **概览**：可查看栈的基本信息、启动参数、状态、输出值和栈参数。
    -   **资源**：可查看栈中包含的所有资源。
    -   **事件**：可查看 ROS 创建这个资源栈时的操作记录。任何涉及资源栈的操作失败了，会显示具体操作哪个资源失败的原因。
    -   **模板**：可查看资源栈的原始模板。

